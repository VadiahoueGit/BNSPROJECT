<div class="gap-2 d-flex align-items-center mb-3" style="cursor: pointer;" (click)="goBack()">
    <i style="font-size: 18px;" class="fas fw-bold fa-chevron-left me-2"></i>
    <h4 class="fw-bold mb-0">Transfert de Stock</h4>
  </div>
  
  <div class="card">
    <div class="container mt-4">
     
      <form [formGroup]="transfertForm" (ngSubmit)="onSubmit()">
        <div class="row g-3">
          <!-- Colonne gauche -->
          <div class="col-md-6">
            <div class="mb-3">
              <label for="numero" class="form-label">Numéro</label>
              <input type="text" id="numero" class="form-control" formControlName="numero" readonly />
            </div>
            <div class="mb-3">
              <label for="dateEnregistrement" class="form-label">Date d'enregistrement</label> <span class="text-danger">*</span>
              <input type="date" id="dateEnregistrement" class="form-control" formControlName="dateEnregistrement" />
            </div>
          </div>
  
          <!-- Colonne droite -->
          <div class="col-md-6">
            <div class="mb-3">
              <label for="magasinOrigine" class="form-label">Magasin d'origine</label> <span class="text-danger">*</span>
              <ng-select class="form-control"  [items]="depotList" bindLabel="nomDepot" bindValue="id" formControlName="magasinOrigine" [searchable]="true">
              </ng-select>
            </div>
            <div class="mb-3">
              <label for="magasinRecepteur" class="form-label">Magasin récepteur</label> <span class="text-danger">*</span>
              <ng-select class="form-control" [items]="depotList" bindLabel="nomDepot" bindValue="id" formControlName="magasinRecepteur" [searchable]="true">
              </ng-select>
            </div>
          </div>
        </div>
  
        <!-- Tableau des articles -->
        <div class="mt-4">
          <h5>Articles à transférer</h5>
          <button type="button" class="btn btn-secondary mb-3" (click)="addArticle()">Ajouter un article</button>
          <table class="table table-bordered">
            <thead class="table-light">
              <tr>
                <th scope="col">Code Article</th>
                <th scope="col">Description</th>
                <th scope="col">Quantité</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let article of articles.controls; let i = index" [formGroupName]="i">
                <td>
                  <ng-select class="form-control" [items]="articleList" bindLabel="libelle" bindValue="id" formControlName="codeArticle" [searchable]="true">
                  </ng-select>
                </td>
                <td>
                  <input type="text" class="form-control" formControlName="description" />
                </td>
                <td>
                  <input type="number" class="form-control" formControlName="quantite" />
                </td>
                <td>
                  <button type="button" class="btn btn-danger btn-sm" (click)="removeArticle(i)">
                    Supprimer
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
  
        <!-- Total des produits transférés -->
        <div class="mb-3">
          <label for="totalProduits" class="form-label">Total des produits transférés</label>
          <input type="number" id="totalProduits" class="form-control" [value]="totalProduits" readonly />
        </div>
  
        <!-- Bouton de soumission -->
        <div class="text-end">
          <button type="submit" class="btn btn-primary" [disabled]="!transfertForm.valid">
            Enregistrer le transfert
          </button>
        </div>
      </form>
    </div>
  </div>
  